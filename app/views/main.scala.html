@import play.api.i18n.{Messages => msg}

@(
  title: String, loginBlogger: Option[LoginBlogger]
)(
  header: Html
)(
  content: Html
)(
  implicit messagesApi: msg,
  request: RequestHeader,
  flash: Flash,
  settings: Settings
)

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>@title</title>
    <link rel="stylesheet" type="text/css"
          href="@routes.Assets.versioned("javascripts/datetimepicker/build/jquery.datetimepicker.min.css")"/ >
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
    <script src="@routes.Assets.versioned("javascripts/datetimepicker/build/jquery.datetimepicker.full.min.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/jstz.min.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/jquery.cookie.js")"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.js"></script>
    <script src="@routes.Assets.versioned("javascripts/clipboard.js-master/dist/clipboard.min.js")"></script>
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
    <link rel="stylesheet" media="screen" href="https://code.jquery.com/ui/1.12.1/themes/redmond/jquery-ui.css">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
    <link rel="alternate" type="application/atom+xml" title="@settings.SiteTitle" href="/atom.xml">
    <link rel="shortcut icon" href="@routes.Assets.versioned("images/favicon.ico")" type="image/x-icon" />
    @header
  </head>
  <body>
    @helper.form(action = helper.CSRF(routes.BloggerController.logoff()), 'id -> "logoffForm") {
    }

    <div class="header">
      <div class="logo">
        <a href="/"><img src="@routes.Assets.versioned("images/logo.gif")"></a>
      </div>
      <div class="adminMenu">
        @loginBlogger.map { blogger =>
          <select id="contentsMenu">
            <option value="">@msg("contentsMenu")</option>
            <option value="location.href='@routes.FileController.index()'">@msg("fileUpload")</option>
            <option value="location.href='@routes.ArticleController.startCreate()'">@msg("createArticle")</option>
          </select>
        }.getOrElse("")
  
        <div class="loginPanel">
          @loginBlogger match {
            case None => {
              <button type="button" class="button"
                      onclick='location.href="@routes.BloggerController.startLogin("/")"'>
                @Messages("login")
              </button>
            }
            case Some(blogger) => {
              <select id="accountMenu">
                <option value="">@blogger.blogger.name</option>
                <option value="logoff();">&nbsp;&nbsp;@Messages("logoff")</option>
              </select>
            }
          }
        </div>
      </div>
      <div style="clear:both;"></div>
    </div>
    <div class="main">
      @flash.get("message").map { msg =>
        <div class="message">@msg</div>
      }

      @content
    </div>
    <div class="trailer">
    </div>

    <script>
var logoff = function() {
  $('#logoffForm').submit();
};
$(function() {
  $.cookie('tz', jstz.determine().name());
  $("button,input[type='button'],input[type='submit']").button();
  $("select").selectmenu({
    change: function(e, data) {
      if (data.item.value != "") {
        eval(data.item.value);
      }
    }
  });
});
    </script>
  </body>
</html>
